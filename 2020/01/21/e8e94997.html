<!DOCTYPE html><html lang="[&quot;zh-Hans&quot;,&quot;en&quot;,&quot;default&quot;]"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="åˆ†æSpringçš„beanåˆå§‹åŒ–"><meta name="keywords" content="Spring, IOC, Beançš„åˆå§‹åŒ–"><meta name="author" content="ğŸ³Antä¸¶"><meta name="copyright" content="ğŸ³Antä¸¶"><title>IOCä¹‹Beançš„åˆå§‹åŒ– | BLOG | CAYZLH</title><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/cayzlh/psychic-potato@master/logo/favicon.ico"><link rel="stylesheet" href="/blog/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-129095667-1', 'auto');
ga('send', 'pageview');</script><meta name="google-site-verification" content="VrcbMTVpFGlHkIERHBt753dAtXKF4qirjnDweuXSRJw"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://v1.hitokoto.cn/?encode=js&amp;charset=utf-8&amp;select=.footer_custom_text" defer></script><script>var GLOBAL_CONFIG = { 
  root: '/blog/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  hexoVersion: '5.4.0'
} </script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/blog/atom.xml" title="BLOG | CAYZLH" type="application/atom+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="åˆ‡æ¢æ–‡ç« è¯¦æƒ…">åˆ‡æ¢ç«™ç‚¹æ¦‚è§ˆ</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://cdn.jsdelivr.net/gh/cayzlh/psychic-potato@master/image/IMG_4207.JPG"></div><div class="author-info__name text-center">ğŸ³Antä¸¶</div><div class="author-info__description text-center">CODE IS POETRY</div><div class="follow-button"><a target="_blank" rel="external nofollow noopener noreferrer" href="https://telegram.me/Q2F5emxo">contact me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/blog/archives"><span class="pull-left">æ–‡ç« </span><span class="pull-right">98</span></a><!--if site.tags.length--><!--  a(href=url_for(config.tag_dir)).author-info-articles__tags.article-meta--><!--    span.pull-left= _p('sidebar.tags')--><!--    span.pull-right= site.tags.length--><!--if site.categories.length--><!--  a(href=url_for(config.category_dir)).author-info-articles__categories.article-meta--><!--    span.pull-left= _p('sidebar.categories')--><!--    span.pull-right= site.categories.length--><a class="author-info-articles__categories article-meta" href="/blog/categories/%E4%B9%A6%E7%B1%8D/%E3%80%8A%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%E3%80%8B/"><span class="pull-left">ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹</span><span class="pull-right">âˆš</span></a><a class="author-info-articles__categories article-meta" href="/blog/categories/%E4%B9%A6%E7%B1%8D/%E3%80%8AMyBatis%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95%E3%80%8B/"><span class="pull-left">ã€ŠMyBatisæŠ€æœ¯å†…å¹•ã€‹</span><span class="pull-right">âˆš</span></a><a class="author-info-articles__categories article-meta" href="/blog/categories/Java/Java%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="pull-left">Javaè®¾è®¡æ¨¡å¼</span><span class="pull-right">âˆš</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/blog/">BLOG | CAYZLH</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> æœç´¢</span></a></span></div><div id="post-info"><div id="post-title">IOCä¹‹Beançš„åˆå§‹åŒ–</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-21</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/blog/categories/Spring/">Spring</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/blog/categories/Spring/%E3%80%8ASpring%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E3%80%8B/">ã€ŠSpringæºç åˆ†æã€‹</a><div class="post-meta-wordcount"><span>å­—æ•°æ€»è®¡: </span><span class="word-count">1.1k</span><span class="post-meta__separator">|</span><span>é˜…è¯»æ—¶é•¿: 4 åˆ†é’Ÿ</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><blockquote>
<p>æœ¬æ–‡ä½œè€…ï¼šchenssy</p>
<p>å‡ºå¤„ï¼š<a target="_blank" rel="external nofollow noopener noreferrer" href="http://cmsblogs.com/?p=2890">http://cmsblogs.com/?p=2890</a></p>
<p>åœ¨å­¦ä¹ <code>Springæºç </code>çš„è¿‡ç¨‹ä¸­å‘ç°çš„å¥½ç«™+å¥½è´´ï¼Œæ„Ÿè°¢ä½œè€…ã€‚Springç‰ˆæœ¬ï¼š<strong>Spring 5.0.6.RELEASE</strong></p>
</blockquote>
<p>ä¸€ä¸ª bean ç»å†äº† <code>createBeanInstance()</code> è¢«åˆ›å»ºå‡ºæ¥ï¼Œç„¶ååˆç»è¿‡ä¸€ç•ªå±æ€§æ³¨å…¥ï¼Œä¾èµ–å¤„ç†ï¼Œå†ç»åƒè¾›ä¸‡è‹¦ï¼Œåƒé”¤ç™¾ç‚¼ï¼Œç»ˆäºæœ‰ç‚¹å„¿ bean å®ä¾‹çš„æ ·å­ï¼Œèƒ½å ªå¤§ä»»äº†ï¼Œåªéœ€è¦ç»å†æœ€åä¸€æ­¥å°±ç ´èŒ§æˆè¶äº†ã€‚</p>
<p>è¿™æœ€åä¸€æ­¥å°±æ˜¯åˆå§‹åŒ–ï¼Œä¹Ÿå°±æ˜¯ <code>initializeBean()</code>ï¼Œæ‰€ä»¥è¿™ç¯‡æ–‡ç« æˆ‘ä»¬åˆ†æ <code>doCreateBean()</code> ä¸­æœ€åä¸€æ­¥ï¼šåˆå§‹åŒ– beanã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> Object <span class="title">initializeBean</span><span class="params">(<span class="keyword">final</span> String beanName, <span class="keyword">final</span> Object bean, <span class="meta">@Nullable</span> RootBeanDefinition mbd)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (System.getSecurityManager() != <span class="keyword">null</span>) &#123;</span><br><span class="line">    AccessController.doPrivileged((PrivilegedAction&lt;Object&gt;) () -&gt; &#123;</span><br><span class="line">      <span class="comment">// æ¿€æ´» Aware æ–¹æ³•</span></span><br><span class="line">      invokeAwareMethods(beanName, bean);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;, getAccessControlContext());</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// å¯¹ç‰¹æ®Šçš„ bean å¤„ç†ï¼šAwareã€BeanClassLoaderAwareã€BeanFactoryAware</span></span><br><span class="line">    invokeAwareMethods(beanName, bean);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Object wrappedBean = bean;</span><br><span class="line">  <span class="keyword">if</span> (mbd == <span class="keyword">null</span> || !mbd.isSynthetic()) &#123;</span><br><span class="line">    <span class="comment">// åå¤„ç†å™¨</span></span><br><span class="line">    wrappedBean = applyBeanPostProcessorsBeforeInitialization(wrappedBean, beanName);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// æ¿€æ´»ç”¨æˆ·è‡ªå®šä¹‰çš„ init æ–¹æ³•</span></span><br><span class="line">    invokeInitMethods(beanName, wrappedBean, mbd);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">catch</span> (Throwable ex) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> BeanCreationException(</span><br><span class="line">      (mbd != <span class="keyword">null</span> ? mbd.getResourceDescription() : <span class="keyword">null</span>),</span><br><span class="line">      beanName, <span class="string">&quot;Invocation of init method failed&quot;</span>, ex);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (mbd == <span class="keyword">null</span> || !mbd.isSynthetic()) &#123;</span><br><span class="line">    <span class="comment">// åå¤„ç†å™¨</span></span><br><span class="line">    wrappedBean = applyBeanPostProcessorsAfterInitialization(wrappedBean, beanName);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> wrappedBean;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆå§‹åŒ– bean çš„æ–¹æ³•å…¶å®å°±æ˜¯ä¸‰ä¸ªæ­¥éª¤çš„å¤„ç†ï¼Œè€Œè¿™ä¸‰ä¸ªæ­¥éª¤ä¸»è¦è¿˜æ˜¯æ ¹æ®ç”¨æˆ·è®¾å®šçš„æ¥è¿›è¡Œåˆå§‹åŒ–ï¼Œè¿™ä¸‰ä¸ªè¿‡ç¨‹ä¸ºï¼š</p>
<ol>
<li>æ¿€æ´» Aware æ–¹æ³•</li>
<li>åç½®å¤„ç†å™¨çš„åº”ç”¨</li>
<li>æ¿€æ´»è‡ªå®šä¹‰çš„ init æ–¹æ³•</li>
</ol>
<p><strong>æ¿€æ´» Aware æ–¹æ³•</strong> Aware ,è‹±æ–‡ç¿»è¯‘æ˜¯æ„è¯†åˆ°çš„ï¼Œæ„ŸçŸ¥çš„ï¼ŒSpring æä¾›äº†è¯¸å¤šç±»ä¼¼<code>xxxxAware</code> çš„æ¥å£ç”¨äºè¾…åŠ© Spring Bean ä»¥ç¼–ç¨‹çš„æ–¹å¼è°ƒç”¨ Spring å®¹å™¨ï¼Œé€šè¿‡å®ç°è¿™äº›æ¥å£ï¼Œå¯ä»¥å¢å¼º Spring Bean çš„åŠŸèƒ½ã€‚ </p>
<p>Spring æä¾›äº†å¦‚ä¸‹ç³»åˆ—çš„ Aware æ¥å£ï¼š</p>
<ul>
<li><code>LoadTimeWeaverAware</code>ï¼šåŠ è½½Spring Beanæ—¶ç»‡å…¥ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œå¦‚AspectJ</li>
<li><code>BeanClassLoaderAware</code>ï¼šåŠ è½½Spring Beançš„ç±»åŠ è½½å™¨</li>
<li><code>BootstrapContextAware</code>ï¼šèµ„æºé€‚é…å™¨BootstrapContextï¼Œå¦‚JCA,CCI</li>
<li><code>ResourceLoaderAware</code>ï¼šåº•å±‚è®¿é—®èµ„æºçš„åŠ è½½å™¨</li>
<li><code>BeanFactoryAware</code>ï¼šå£°æ˜BeanFactory</li>
<li><code>PortletConfigAware</code>ï¼šPortletConfig</li>
<li><code>PortletContextAware</code>ï¼šPortletContext</li>
<li><code>ServletConfigAware</code>ï¼šServletConfig</li>
<li><code>ServletContextAware</code>ï¼šServletContext</li>
<li><code>MessageSourceAware</code>ï¼šå›½é™…åŒ–</li>
<li><code>ApplicationEventPublisherAware</code>ï¼šåº”ç”¨äº‹ä»¶</li>
<li><code>NotificationPublisherAware</code>ï¼šJMXé€šçŸ¥</li>
<li><code>BeanNameAware</code>ï¼šå£°æ˜Spring Beançš„åå­—</li>
</ul>
<p><code>invokeAwareMethods()</code> æºç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">invokeAwareMethods</span><span class="params">(<span class="keyword">final</span> String beanName, <span class="keyword">final</span> Object bean)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (bean <span class="keyword">instanceof</span> Aware) &#123;</span><br><span class="line">    <span class="keyword">if</span> (bean <span class="keyword">instanceof</span> BeanNameAware) &#123;</span><br><span class="line">      ((BeanNameAware) bean).setBeanName(beanName);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (bean <span class="keyword">instanceof</span> BeanClassLoaderAware) &#123;</span><br><span class="line">      ClassLoader bcl = getBeanClassLoader();</span><br><span class="line">      <span class="keyword">if</span> (bcl != <span class="keyword">null</span>) &#123;</span><br><span class="line">        ((BeanClassLoaderAware) bean).setBeanClassLoader(bcl);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (bean <span class="keyword">instanceof</span> BeanFactoryAware) &#123;</span><br><span class="line">      ((BeanFactoryAware) bean).setBeanFactory(AbstractAutowireCapableBeanFactory.<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œä»£ç å°±æ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„ï¼Œä¸»è¦æ˜¯å¤„ç† BeanNameAwareã€BeanClassLoaderAwareã€BeanFactoryAwareã€‚</p>
<p><strong>åç½®å¤„ç†å™¨çš„åº”ç”¨</strong> BeanPostProcessor åœ¨å‰é¢ä»‹ç» bean åŠ è½½çš„è¿‡ç¨‹æ›¾å¤šæ¬¡é‡åˆ°ï¼Œè¿™æ˜¯ Spring ä¸­å¼€æ”¾å¼æ¡†æ¶ä¸­å¿…ä¸å¯å°‘çš„ä¸€ä¸ªäº®ç‚¹ã€‚ </p>
<p>BeanPostProcessor çš„ä½œç”¨æ˜¯ï¼š<u>å¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨ Spring å®¹å™¨å®Œæˆ Bean çš„å®ä¾‹åŒ–ï¼Œé…ç½®å’Œå…¶ä»–çš„åˆå§‹åŒ–åæ·»åŠ ä¸€äº›è‡ªå·±çš„é€»è¾‘å¤„ç†ï¼Œé‚£ä¹ˆè¯·ä½¿ç”¨è¯¥æ¥å£ï¼Œè¿™ä¸ªæ¥å£ç»™ä¸äº†ç”¨æˆ·å……è¶³çš„æƒé™å»æ›´æ”¹æˆ–è€…æ‰©å±• Springï¼Œæ˜¯æˆ‘ä»¬å¯¹ Spring è¿›è¡Œæ‰©å±•å’Œå¢å¼ºå¤„ç†ä¸€ä¸ªå¿…ä¸å¯å°‘çš„æ¥å£ã€‚</u></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">applyBeanPostProcessorsBeforeInitialization</span><span class="params">(Object existingBean, String beanName)</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line"></span><br><span class="line">  Object result = existingBean;</span><br><span class="line">  <span class="keyword">for</span> (BeanPostProcessor beanProcessor : getBeanPostProcessors()) &#123;</span><br><span class="line">    Object current = beanProcessor.postProcessBeforeInitialization(result, beanName);</span><br><span class="line">    <span class="keyword">if</span> (current == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    result = current;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">applyBeanPostProcessorsAfterInitialization</span><span class="params">(Object existingBean, String beanName)</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line"></span><br><span class="line">  Object result = existingBean;</span><br><span class="line">  <span class="keyword">for</span> (BeanPostProcessor beanProcessor : getBeanPostProcessors()) &#123;</span><br><span class="line">    Object current = beanProcessor.postProcessAfterInitialization(result, beanName);</span><br><span class="line">    <span class="keyword">if</span> (current == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    result = current;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®é€»è¾‘å°±æ˜¯é€šè¿‡ <code>getBeanPostProcessors()</code> è·å–å®šä¹‰çš„ BeanPostProcessor ï¼Œç„¶ååˆ†åˆ«è°ƒç”¨å…¶ <code>postProcessBeforeInitialization()</code>ã€<code>postProcessAfterInitialization()</code> è¿›è¡Œä¸šåŠ¡å¤„ç†ã€‚</p>
<p><strong>æ¿€æ´»è‡ªå®šä¹‰çš„ init æ–¹æ³•</strong> å¦‚æœç†Ÿæ‚‰ <code>&lt;bean&gt;</code> æ ‡ç­¾çš„é…ç½®ï¼Œä¸€å®šä¸ä¼šå¿˜è®° <code>init-method</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„æ‰§è¡Œå°±æ˜¯åœ¨è¿™é‡Œæ‰§è¡Œçš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">invokeInitMethods</span><span class="params">(String beanName, <span class="keyword">final</span> Object bean, <span class="meta">@Nullable</span> RootBeanDefinition mbd)</span></span></span><br><span class="line"><span class="function">  <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">  <span class="comment">// é¦–å…ˆä¼šæ£€æŸ¥æ˜¯å¦æ˜¯ InitializingBean ï¼Œå¦‚æœæ˜¯çš„è¯éœ€è¦è°ƒç”¨ afterPropertiesSet()</span></span><br><span class="line">  <span class="keyword">boolean</span> isInitializingBean = (bean <span class="keyword">instanceof</span> InitializingBean);</span><br><span class="line">  <span class="keyword">if</span> (isInitializingBean &amp;&amp; (mbd == <span class="keyword">null</span> || !mbd.isExternallyManagedInitMethod(<span class="string">&quot;afterPropertiesSet&quot;</span>))) &#123;</span><br><span class="line">    <span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line">      logger.debug(<span class="string">&quot;Invoking afterPropertiesSet() on bean with name &#x27;&quot;</span> + beanName + <span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (System.getSecurityManager() != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        AccessController.doPrivileged((PrivilegedExceptionAction&lt;Object&gt;) () -&gt; &#123;</span><br><span class="line">          ((InitializingBean) bean).afterPropertiesSet();</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;, getAccessControlContext());</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">catch</span> (PrivilegedActionException pae) &#123;</span><br><span class="line">        <span class="keyword">throw</span> pae.getException();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// å±æ€§åˆå§‹åŒ–çš„å¤„ç†</span></span><br><span class="line">      ((InitializingBean) bean).afterPropertiesSet();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (mbd != <span class="keyword">null</span> &amp;&amp; bean.getClass() != NullBean.class) &#123;</span><br><span class="line">    String initMethodName = mbd.getInitMethodName();</span><br><span class="line">    <span class="keyword">if</span> (StringUtils.hasLength(initMethodName) &amp;&amp;</span><br><span class="line">        !(isInitializingBean &amp;&amp; <span class="string">&quot;afterPropertiesSet&quot;</span>.equals(initMethodName)) &amp;&amp;</span><br><span class="line">        !mbd.isExternallyManagedInitMethod(initMethodName)) &#123;</span><br><span class="line">      <span class="comment">// æ¿€æ´»ç”¨æˆ·è‡ªå®šä¹‰çš„ åˆå§‹åŒ–æ–¹æ³•</span></span><br><span class="line">      invokeCustomInitMethod(beanName, bean, mbd);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆæ£€æŸ¥æ˜¯å¦ä¸º InitializingBean ï¼Œå¦‚æœæ˜¯çš„è¯éœ€è¦æ‰§è¡Œ <code>afterPropertiesSet()</code>ï¼Œå› ä¸ºæˆ‘ä»¬é™¤äº†å¯ä»¥ä½¿ç”¨ <code>init-method</code> æ¥è‡ªå®šåˆå§‹åŒ–æ–¹æ³•å¤–ï¼Œè¿˜å¯ä»¥å®ç° InitializingBean æ¥å£ï¼Œè¯¥æ¥å£ä»…æœ‰ä¸€ä¸ª <code>afterPropertiesSet()</code> æ–¹æ³•ï¼Œè€Œä¸¤è€…çš„æ‰§è¡Œå…ˆåé¡ºåºæ˜¯å…ˆ <code>afterPropertiesSet()</code> å <code>init-method</code>ã€‚ </p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined" rel="external nofollow noopener noreferrer" target="_blank">ğŸ³Antä¸¶</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://www.cayzlh.com/2020/01/21/e8e94997.html">https://www.cayzlh.com/2020/01/21/e8e94997.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" rel="external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://www.cayzlh.com">BLOG | CAYZLH</a>ï¼</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/blog/tags/Spring/">Spring</a><a class="post-meta__tags" href="/blog/tags/%E8%BD%AC%E8%BD%BD/">è½¬è½½</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/blog/2020/01/21/abeafe18.html"><i class="fa fa-chevron-left">  </i><span>IOCä¹‹åŠ è½½Beanâ€”â€”æ€»ç»“ç¯‡</span></a></div><div class="next-post pull-right"><a href="/blog/2020/01/21/7ee1f554.html"><span>IOCä¹‹å¾ªç¯ä¾èµ–</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="footer_custom_text">hitokoto</div><div class="copyright">ğŸ³Antä¸¶ &copy;2019 - 2021</div><div class="icp"><a><span>ç²¤ICPå¤‡20058712å·</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/blog/js/utils.js?version=1.9.0"></script><script src="/blog/js/fancybox.js?version=1.9.0"></script><script src="/blog/js/sidebar.js?version=1.9.0"></script><script src="/blog/js/copy.js?version=1.9.0"></script><script src="/blog/js/fireworks.js?version=1.9.0"></script><script src="/blog/js/transition.js?version=1.9.0"></script><script src="/blog/js/scroll.js?version=1.9.0"></script><script src="/blog/js/head.js?version=1.9.0"></script><script src="/blog/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>